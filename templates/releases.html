{% extends "layouts/one-column-layout.html" %}

{% block meta_content %}
<title>{{ section.title }} | {{ config.title }}</title>
<meta property="og:title" content="{{ section.title }} | {{ config.title }}"/>
<meta property="og:description" content="Complete list of Phel releases, automatically generated from the Phel GitHub releases."/>
{% endblock meta_content %}

{% block content %}
{% if paginator.current_index == 1 %}
<h1>Releases</h1>
<p class="releases-intro">Complete list of Phel releases, automatically generated from the <a href="https://github.com/phel-lang/phel-lang/releases">Phel GitHub releases</a>.</p>
{% endif %}

<div class="release-list post-list">
{% for page in paginator.pages %}
    <div class="post-list__item">
        <a class="post-card" href="{{ page.permalink | safe }}">
            {% if page.date %}
            <div class="post-card__meta">
                <time class="post-card__date" datetime="{{ page.date }}">{{ page.date | date(format="%B %-d, %Y") }}</time>
            </div>
            {% endif %}
            <h2 class="post-card__title">{{ page.title }}</h2>
            {% if page.description %}
            <p class="post-card__excerpt">{{ page.description }}</p>
            {% elif page.summary %}
            <p class="post-card__excerpt">{{ page.summary | striptags }}</p>
            {% endif %}
            <span class="post-card__cta">View release →</span>
        </a>
    </div>
{% endfor %}
</div>

<div class="pagination">
    {% if paginator.previous %}
    <a class="btn btn-secondary pagination__btn pagination__btn--previous" href="{{ paginator.previous }}">← Newer releases</a>
    {% endif %}
    {% if paginator.next %}
    <a class="btn btn-secondary pagination__btn pagination__btn--next" href="{{ paginator.next }}">Older releases →</a>
    {% endif %}
</div>
{% endblock content %}
