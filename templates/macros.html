{% macro floating_toc(items) %}
{% if items %}
<nav class="floating-toc" id="floating-toc" aria-label="Table of contents">
    <button class="floating-toc__toggle" id="floating-toc-toggle" type="button" aria-expanded="false" aria-label="Table of contents">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="8" y1="6" x2="21" y2="6"></line>
            <line x1="8" y1="12" x2="21" y2="12"></line>
            <line x1="8" y1="18" x2="21" y2="18"></line>
            <line x1="3" y1="6" x2="3.01" y2="6"></line>
            <line x1="3" y1="12" x2="3.01" y2="12"></line>
            <line x1="3" y1="18" x2="3.01" y2="18"></line>
        </svg>
    </button>
    <div class="floating-toc__panel" id="floating-toc-panel">
        <div class="floating-toc__header">
            <h2>On this page</h2>
        </div>
        <ul>
            {% for h1 in items %}
            <li>
                <a href="#{{ h1.id }}">{{ h1.title }}</a>
                {% if h1.children %}
                <ul>
                    {% for h2 in h1.children %}
                    <li><a href="#{{ h2.id }}">{{ h2.title }}</a></li>
                    {% endfor %}
                </ul>
                {% endif %}
            </li>
            {% endfor %}
        </ul>
    </div>
</nav>
{% endif %}
{% endmacro floating_toc %}
